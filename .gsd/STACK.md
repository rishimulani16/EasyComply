# Technology Stack

> Auto-generated by /map on 2026-02-24 | Based on PRD v2.0

## Runtime

| Technology | Version | Purpose |
|------------|---------|---------|
| Python | 3.11 (pyenv) | Backend runtime |
| Node.js | LTS | Frontend build tooling |
| PostgreSQL | Local / Supabase | Primary database |

---

## Frontend Dependencies

### Production

| Package | Version | Purpose |
|---------|---------|---------|
| react | ^19.2.0 | UI framework |
| react-dom | ^19.2.0 | DOM renderer |
| react-router-dom | ^7.13.0 | Client-side routing (3 role-based routes) |
| axios | ^1.13.5 | HTTP client â€” all API calls |
| jwt-decode | ^4.0.0 | Decode JWT to extract role, company_id |
| react-hook-form | ^7.71.1 | Multi-step signup form validation |

### Development

| Package | Version | Purpose |
|---------|---------|---------|
| vite | ^7.3.1 | Dev server and bundler |
| @vitejs/plugin-react | ^5.1.1 | React Fast Refresh for Vite |
| tailwindcss | ^4.2.0 | Utility-first CSS |
| @tailwindcss/vite | ^4.2.0 | Tailwind Vite integration |
| eslint | ^9.39.1 | Linter |
| eslint-plugin-react-hooks | ^7.0.1 | Hooks lint rules |
| eslint-plugin-react-refresh | ^0.4.24 | Fast refresh lint |
| @types/react | ^19.2.7 | TypeScript types |
| @types/react-dom | ^19.2.3 | TypeScript types |

---

## Backend Dependencies

### Production â€” Existing

| Package | Version | Purpose |
|---------|---------|---------|
| fastapi | latest | REST API framework, dependency injection, OpenAPI |
| uvicorn[standard] | latest | ASGI server |
| sqlalchemy | latest | ORM + query builder |
| psycopg2-binary | latest | PostgreSQL driver |
| python-jose[cryptography] | latest | JWT creation and validation |
| passlib[bcrypt] | latest | Password hashing |
| bcrypt | 4.0.1 | Pinned bcrypt (passlib compatibility) |
| python-dotenv | latest | `.env` loading |
| python-multipart | latest | Multipart file upload (UploadFile) |
| pytesseract | latest | Tesseract OCR Python wrapper |
| Pillow | latest | Image loading/processing for OCR |
| pdf2image | latest | PDF â†’ PIL image (requires Poppler system binary) |
| python-dateutil | latest | Date parsing from OCR text + relativedelta |
| supabase | latest | Supabase Auth client |
| pydantic[email] | latest | Schema validation + EmailStr |

### Production â€” To Add (PRD v2)

| Package | Purpose | Notes |
|---------|---------|-------|
| boto3 | AWS S3 upload, download, presigned URL, delete | Core v2 addition |
| botocore | boto3 dependency (auto-installed) | â€” |

---

## Infrastructure

| Service | Provider | Purpose | Status |
|---------|----------|---------|--------|
| PostgreSQL | Local / Supabase | All relational data (7 tables) | âœ… Live |
| Tesseract OCR | Local binary | Document text extraction | âœ… Live |
| Poppler | Local binary | PDF â†’ image for OCR via pdf2image | âœ… Live |
| AWS S3 | AWS (Mumbai ap-south-1) | Private versioned document storage | ðŸ”´ Planned |
| Supabase Auth | Supabase | JWT token issuance | âœ… Live |
| SendGrid / SMTP | TBD | Email alerts (due date reminders, auditor invites) | âŒ Post-MVP |

---

## AWS S3 Configuration

| Setting | Value |
|---------|-------|
| Bucket Name | `EasyComply` |
| Region | `ap-south-1` (Mumbai) |
| Access | Private (Block All Public Access = ON) |
| URL Strategy | Presigned URLs (1-hour TTL, generated on-demand) |
| Key Format | `company_{id}/rule_{id}_{slug}/v{n}_{YYYY-MM-DD}.{ext}` |
| OCR Strategy | Download to `/tmp/` â†’ OCR â†’ delete immediately |

---

## Environment Variables

| Variable | Purpose | Required | Location |
|----------|---------|----------|----------|
| `DATABASE_URL` | PostgreSQL connection string | Yes | `backend/.env` |
| `SECRET_KEY` | JWT signing secret | Yes | `backend/.env` |
| `ALGORITHM` | JWT algorithm (e.g. `HS256`) | Yes | `backend/.env` |
| `ACCESS_TOKEN_EXPIRE_MINUTES` | JWT TTL | Yes | `backend/.env` |
| `SUPABASE_URL` | Supabase project URL | Optional | `backend/.env` |
| `SUPABASE_ANON_KEY` | Supabase anon key | Optional | `backend/.env` |
| `AWS_ACCESS_KEY_ID` | AWS IAM access key | **Yes for v2** | `backend/.env` |
| `AWS_SECRET_ACCESS_KEY` | AWS IAM secret key | **Yes for v2** | `backend/.env` |
| `AWS_BUCKET_NAME` | S3 bucket name (`EasyComply`) | **Yes for v2** | `backend/.env` |
| `AWS_REGION` | S3 region (`ap-south-1`) | **Yes for v2** | `backend/.env` |

> See `backend/.env.template` for the full template.

---

## Dev Server URLs

| Service | URL |
|---------|-----|
| Frontend (Vite dev) | http://localhost:5173 |
| Backend (FastAPI) | http://localhost:8000 |
| FastAPI Swagger UI | http://localhost:8000/docs |
| FastAPI ReDoc | http://localhost:8000/redoc |
